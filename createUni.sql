CREATE TABLE dependency (predecessor_id NUMBER(19) NOT NULL, successor_id NUMBER(19) NOT NULL, PRIMARY KEY (predecessor_id, successor_id))
CREATE TABLE lecture (ID NUMBER(19) NOT NULL, TITLE VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, PROFESSOR_ID NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE assistant (ID NUMBER(19) NOT NULL, SUBJECT VARCHAR2(255) NULL, PROFESSOR_ID NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE student (ID NUMBER(19) NOT NULL, NAME VARCHAR2(255) NULL UNIQUE, SEMESTER NUMBER(10) NULL, VERSION NUMBER(19) NULL, PRIMARY KEY (ID))

CREATE TABLE participation (lecture_id NUMBER(19) NOT NULL, student_id NUMBER(19) NOT NULL, PRIMARY KEY (lecture_id, student_id))
CREATE TABLE professor (ID NUMBER(19) NOT NULL, RANK VARCHAR2(255) NULL, ROOM VARCHAR2(255) NULL, PRIMARY KEY (ID))
CREATE TABLE employee (ID NUMBER(19) NOT NULL, DTYPE VARCHAR2(31) NULL, name VARCHAR2(255) NULL, VERSION NUMBER(19) NULL, PRIMARY KEY (ID))
CREATE TABLE exam (GRADE NUMBER(2,1) NULL, lecture_id NUMBER(19) NOT NULL, student_id NUMBER(19) NOT NULL, PROFESSOR_ID NUMBER(19) NULL, PRIMARY KEY (lecture_id, student_id))
ALTER TABLE dependency ADD CONSTRAINT FK_dependency_successor_id FOREIGN KEY (successor_id) REFERENCES lecture (ID)
ALTER TABLE dependency ADD CONSTRAINT FK_dependency_predecessor_id FOREIGN KEY (predecessor_id) REFERENCES lecture (ID)
ALTER TABLE lecture ADD CONSTRAINT FK_lecture_PROFESSOR_ID FOREIGN KEY (PROFESSOR_ID) REFERENCES employee (ID)
ALTER TABLE assistant ADD CONSTRAINT FK_assistant_ID FOREIGN KEY (ID) REFERENCES employee (ID)
ALTER TABLE assistant ADD CONSTRAINT FK_assistant_PROFESSOR_ID FOREIGN KEY (PROFESSOR_ID) REFERENCES employee (ID)
ALTER TABLE participation ADD CONSTRAINT FK_participation_student_id FOREIGN KEY (student_id) REFERENCES student (ID)
ALTER TABLE participation ADD CONSTRAINT FK_participation_lecture_id FOREIGN KEY (lecture_id) REFERENCES lecture (ID)
ALTER TABLE professor ADD CONSTRAINT FK_professor_ID FOREIGN KEY (ID) REFERENCES employee (ID)
ALTER TABLE exam ADD CONSTRAINT FK_exam_lecture_id FOREIGN KEY (lecture_id) REFERENCES lecture (ID)
ALTER TABLE exam ADD CONSTRAINT FK_exam_PROFESSOR_ID FOREIGN KEY (PROFESSOR_ID) REFERENCES employee (ID)
ALTER TABLE exam ADD CONSTRAINT FK_exam_student_id FOREIGN KEY (student_id) REFERENCES student (ID)
CREATE SEQUENCE UNI.GlobalSequence START WITH 1
